# Find Pangolin (https://github.com/stevenlovegrove/Pangolin)
FIND_PACKAGE(Pangolin REQUIRED)
INCLUDE_DIRECTORIES(${Pangolin_INCLUDE_DIRS})
LINK_DIRECTORIES(${Pangolin_LIBRARY_DIRS})
LINK_LIBRARIES(${Pangolin_LIBRARIES})

FIND_PACKAGE(FREEGLUT QUIET)
FIND_PACKAGE(CUDA QUIET)
FIND_PACKAGE(GLEW QUIET)
FIND_PACKAGE(Boost 1.40 COMPONENTS thread QUIET)

IF(FREEGLUT_FOUND AND CUDA_FOUND AND GLEW_FOUND AND Boost_FOUND)
  CUDA_INCLUDE_DIRECTORIES(${CMAKE_CURRENT_SOURCE_DIR})

  SET(CUDA_NVCC_FLAGS "-O3")
  ADD_DEFINITIONS(-DCUDA_BUILD)

  LINK_DIRECTORIES( ${Boost_LIBRARY_DIRS} )
  INCLUDE_DIRECTORIES( ${Boost_INCLUDE_DIRS} )
  LINK_LIBRARIES( ${GLEW_LIBRARY} ${Boost_LIBRARIES} )

  IF(CUDA_SDK_ROOT_DIR)
    ADD_DEFINITIONS(-DUSE_CUTIL)
    INCLUDE_DIRECTORIES( ${CUDA_SDK_ROOT_DIR}/common/inc )
    LINK_DIRECTORIES( ${CUDA_SDK_ROOT_DIR}/lib )
    LINK_LIBRARIES(libcutil_x86_64.a)
  ENDIF()

  CUDA_ADD_EXECUTABLE(
    VBODisplay
    main.cpp kernal.cu
  )

ENDIF()
